select sum(dev_all),area_no,prof_name from
(select a.dev_all,b.area_no,prof_name
from 
(select sum(dev_all)dev_all, channel_no,area_no
  from dm.DM_D_SUB_ALIDD_DEV_RT@newjfdb
 where month_id = '201711'
   and day_id = '03'
 group by  channel_no,area_no)a
 left join DIM.DIM_PUB_CODE_ORG_CHNL@NEWJFDB b
 on a.channel_no=b.chnl_no)t
 group by area_no,prof_name;